# 里程碑2进度表（2026-02-21）

## 1. 里程碑目标

根据《【✅️毕设快速开发最优方案（开题对齐版）】》，里程碑2目标为：

1. 轻量意图识别上线  
2. 统计接口上线  
3. 后台统计页上线

## 2. 进度总览

| 项目 | 状态 | 完成度 |
| --- | --- | --- |
| 里程碑2 | 已完成开发 | 95% |

说明：代码开发与后端编译通过已完成；菜单 SQL 需在数据库执行后，前端“统计概览”菜单才会显示。

## 3. 任务进度明细

| 序号 | 任务 | 结果 | 证据文件 |
| --- | --- | --- | --- |
| 1 | `Rag` 增加轻量意图识别规则（教务/学工/后勤/流程/时间/地点） | 已完成 | `jeecg-boot/jeecg-boot-module/jeecg-boot-module-campusqa/src/main/java/org/jeecg/modules/campusqa/rag/service/impl/RagServiceImpl.java` |
| 2 | `Rag` 响应增加意图字段（类型/标签/分数/命中关键词） | 已完成 | `jeecg-boot/jeecg-boot-module/jeecg-boot-module-campusqa/src/main/java/org/jeecg/modules/campusqa/rag/dto/RagAnswerResponse.java` |
| 3 | `/campusqa/mini/ask` 写入带意图来源的历史记录（`ask:INTENT`） | 已完成 | `jeecg-boot/jeecg-boot-module/jeecg-boot-module-campusqa/src/main/java/org/jeecg/modules/campusqa/mini/controller/CampusQaMiniController.java` |
| 4 | 新增统计接口：总览 `/overview` | 已完成 | `jeecg-boot/jeecg-boot-module/jeecg-boot-module-campusqa/src/main/java/org/jeecg/modules/campusqa/stats/controller/QaStatsController.java` |
| 5 | 新增统计接口：热门问题 `/topQuestions` | 已完成 | `jeecg-boot/jeecg-boot-module/jeecg-boot-module-campusqa/src/main/java/org/jeecg/modules/campusqa/stats/controller/QaStatsController.java` |
| 6 | 新增统计接口：意图分布 `/intentStats` | 已完成 | `jeecg-boot/jeecg-boot-module/jeecg-boot-module-campusqa/src/main/java/org/jeecg/modules/campusqa/stats/controller/QaStatsController.java` |
| 7 | 新增后台统计页 API | 已完成 | `jeecgboot-vue3/src/views/campusqa/stats/stats.api.ts` |
| 8 | 新增后台统计页（指标卡 + 热门问题 + 意图分布） | 已完成 | `jeecgboot-vue3/src/views/campusqa/stats/index.vue` |
| 9 | 补充菜单 SQL（统计概览菜单 + 权限 + 角色授权） | 已完成 | `jeecg-boot/db/campusqa-menu.sql` |
| 10 | 后端编译验收 | 已完成 | 命令：`mvn -pl :jeecg-boot-module-campusqa -am -DskipTests package`（BUILD SUCCESS） |

## 4. 本次新增能力说明

1. 轻量意图识别：
   - 在 `ask` 中对问题进行规则匹配，识别为 `QUERY_ACADEMIC/QUERY_STUDENT/QUERY_LOGISTICS/PROCESS/QUERY_TIME/QUERY_LOCATION/GENERAL`
   - 返回意图标签和评分，并参与最终置信度计算
2. 统计接口：
   - 总览指标：知识库、通知、反馈、查询量、反馈处理率
   - 热门问题：按点击量排序 TopN
   - 意图分布：基于 `ask:*` 历史统计近 N 天意图次数
3. 后台统计页：
   - 支持刷新、可视化指标查看、热门问题表格、意图分布表格

## 5. 待执行收尾（上线前）

1. 在数据库执行 `jeecg-boot/db/campusqa-menu.sql`（新增统计菜单和权限）  
2. 重新登录后台，确认出现“统计概览”菜单  
3. 验证接口：
   - `/jeecg-boot/campusqa/stats/overview`
   - `/jeecg-boot/campusqa/stats/topQuestions`
   - `/jeecg-boot/campusqa/stats/intentStats`
4. 走一遍问答 `ask` 流程，确认意图分布有数据

## 6. 结论

里程碑2的三项核心目标（轻量意图识别 + 统计接口 + 后台统计页）已完成开发并通过后端编译验证。  
执行 SQL 与联调验证后，可标记为 100% 完成。

